<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2373019-SherlinaBudiana</title>

    <style>
        td {
            border: 1px solid black;
            margin: 10px;
            text-align: center;
            width: 250px;
            height: 30px;
        }

        input {
            width: 250px;
        }

        button {
            color: blue;
            font-weight: bold;
        }

        .blue {
            width: 30%;
            color: blue;
            font-weight: bold;
            text-align: right;
        }
    </style>
</head>


<body>
    <table>
        <tr>
            <td class="blue">
                Input:
            </td>
            <td>
                <input id="input" type="text">
            </td>
        </tr>
        <tr>
            <td class="blue">
                Output:
            </td>
            <td>
                <input id="output" type="text">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <select id="tipe">
                    <option value="DtB">Decimal to Biner</option>
                    <option value="BtD">Biner to Decimal</option>
                </select>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button onclick="proses()">PROSES</button>
                &emsp;
                <button onclick="reset()">RESET</button>
            </td>
        </tr>
    </table>


    <script type="text/javascript">
        function proses() {
            let input = parseInt(document.getElementById("input").value);
            let tipe = document.getElementById("tipe").value;
            let output = document.getElementById("output");

            if (tipe == "DtB") {
                if (0 > input || input > 255 || isNaN(input)) {
                    input.value = "Masukkan angka 0-255";
                    return;
                }

                let binary = "";
                while (input > 0) {
                    binary = (input % 2) + binary;
                    input = Math.floor(input / 2);
                }
                output.value=binary;

            } else if (tipe == "BtD") {
                if (!/^[01]{1,8}$/.test(input)) {
                    input.value = "Hanya angka 0 dan 1. maksimal 8 digit";
                    return;
                }

                let decimal = 0;
                let length = input.toString().length;
                for (let i = 0; i < length; i++) {
                    decimal += parseInt(input[i]) * Math.pow(2, length - i - 1);
                }
                output.value=decimal;
            }
        }

        function reset() {
            input.value="";
            output.value="";
        }
    </script>
</body>


</html>